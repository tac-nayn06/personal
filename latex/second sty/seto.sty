%---------------------------------------------
%info
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{seto}[2021/05/05]
%% package name: seto.sty 
%% Copyright 2021 by Neal Yan
%
% *shhhh im stealing a friend's name lolollololol*
%
% This program can redistributed and/or modified under the terms 
% of the LaTeX Project Public License Distributed from CTAN 
% archives in directory macros/latex/base/lppl.txt; either 
% version 1 of the License, or (at your option) any later version.
%
%---------------------------------------------
%asymptote
\RequirePackage[inline]{asymptote}
\begin{asydef}
/////// Personal pens //////
pen darkgrn=RGB(13,83,76);
pen thickgrn=linewidth(1)+RGB(13,83,76);
pen redpink=RGB(229,162,155);
pen thickpink=linewidth(1)+RGB(229,162,155);
////////////////////////////
\end{asydef}
%---------------------------------------------
%options
%------------------
% numbering
\newboolean{normalnumbering}
\newboolean{sectnumbering}
\setboolean{normalnumbering}{true}
\setboolean{sectnumbering}{false}
\DeclareOption{labelsBySect}{
    \setboolean{normalnumbering}{false}
    \setboolean{sectnumbering}{true}}
%------------------
\DeclareOption*{\PackageWarning{seto}{Unknown ‘\CurrentOption’}}
\ProcessOptions\relax
%---------------------------------------------
%colors, for mdframed
% Theme: big sur
\RequirePackage[framemethod=TikZ]{mdframed}
% let's use mdframed already, its capabilities are a superset of those of tcolorbox
\definecolor{white}{HTML}{FFFFFF}% do not remove
\definecolor{black}{HTML}{000000}% do not remove
\definecolor{nyandarkgrn}{HTML}{0D534F}
\definecolor{probcolor}{HTML}{E5A29B} %brownish red?
\definecolor{theocolor}{HTML}{9BCAE8} %light blu
\definecolor{claimcolor}{HTML}{E6CE88} %yellow
\definecolor{remarkcolor}{HTML}{0D534F} %dark grn atm
\definecolor{quotecolor}{HTML}{91B9DC} % slightly darker blue
% (change hex codes to your taste to change box colors, its done rather automatically)
%-------------------------------------------------
%fonts, text formatting
\RequirePackage{lato}
\RequirePackage{Alegreya}
\renewcommand*\oldstylenums[1]{{\AlegreyaOsF #1}}
\RequirePackage[cmintegrals,cmbraces]{newtxmath}
\RequirePackage{ebgaramond-maths}
\renewcommand{\emph}[1]{\textbf{{\lato\textcolor{nyandarkgrn}{#1}}}}
%------------------------------------------------------
% box styles
\global\mdfdefinestyle{probdefault}{% 
    innerleftmargin=0.5cm,innertopmargin=0.25cm,innerbottommargin=0.25cm,innerrightmargin=0.4cm,
    linecolor=probcolor,linewidth=1.5pt,backgroundcolor=probcolor!25!white,roundcorner=5pt}
\global\mdfdefinestyle{claimdefault}{% 
    innerleftmargin=0.5cm,innertopmargin=0.25cm,innerbottommargin=0.25cm,innerrightmargin=0.4cm,
    linecolor=claimcolor,linewidth=3pt,backgroundcolor=claimcolor!25!white,
    topline=false,bottomline=false,rightline=false,leftline=true}
\global\mdfdefinestyle{theodefault}{%
    innerleftmargin=0.5cm,innertopmargin=0.25cm,innerbottommargin=0.25cm,innerrightmargin=0.4cm,
    linecolor=theocolor,linewidth=1.5pt,backgroundcolor=theocolor!25!white,roundcorner=2pt}
\global\mdfdefinestyle{remarkdefault}{%
	innerleftmargin=0.5cm,innertopmargin=0.25cm,innerbottommargin=0.25cm,innerrightmargin=0.4cm,
	linecolor=remarkcolor,linewidth=1.5pt,backgroundcolor=remarkcolor!20!white,roundcorner=2pt}
%------------------
%cmds for convenience
\newcommand{\optlabel}[1]{\ifthenelse{\isempty{#1}}{}{ (#1)}}
\newcounter{probnum}
\newcommand{\problabel}{\ifthenelse{\boolean{normalnumbering}}{\theprobnum}{\thesection.\theprobnum}}
\newcommand{\problem}[2][]{\stepcounter{probnum}\begin{mdframed}[style=probdefault]
    {\lato\bfseries Problem \problabel}{\lato\optlabel{#1}}{\lato\bfseries.}\enskip#2\end{mdframed}}
\newcommand{\prob}[2][]{\begin{mdframed}[style=probdefault]
    {\lato\bfseries Problem}{\lato\optlabel{#1}}{\lato\bfseries.}\enskip#2\end{mdframed}}
\newcounter{exmpnum}
\newcommand{\exmplabel}{\ifthenelse{\boolean{normalnumbering}}{\theexmpnum}{\thesection.\theexmpnum}}
\newcommand{\example}[2][]{\stepcounter{exmpnum}\begin{mdframed}[style=probdefault]
    {\lato\bfseries Example}{\lato\optlabel{#1}}{\lato\bfseries.}\enskip#2\end{mdframed}}
\newcommand{\exmp}[2][]{
    {\lato\bfseries Problem}{\lato\optlabel{#1}}{\lato\bfseries.}\enskip#2\end{mdframed}}
\newcommand{\claim}[1]{
    \begin{mdframed}[style=claimdefault]{\lato\bfseries Claim---\quad}#1\end{mdframed}}
\newcommand{\lemma}[1]{
    \begin{mdframed}[style=claimdefault]{\lato\bfseries Lemma---\quad}#1\end{mdframed}}
\newcounter{theonum}
\newcommand{\thmlabel}{\ifthenelse{\boolean{normalnumbering}}{\thetheonum}{\thesection.\thetheonum}}
\newcommand{\theorem}[1]{\stepcounter{theonum}\begin{mdframed}[style=theodefault]
    {\lato\bfseries Theorem \thmlabel.\enskip}#1\end{mdframed}}
\newcommand{\theo}[1]{\begin{mdframed}[style=theodefault]
    {\lato\bfseries Theorem.\enskip}#1\end{mdframed}}
\newcounter{defnum}
\newcommand{\deflabel}{\ifthenelse{\boolean{normalnumbering}}{\thedefnum}{\thesection.\thedefnum}}
\newcommand{\definition}[1]{\stepcounter{defnum}\begin{mdframed}[style=theodefault]
    {\lato\bfseries Definition \deflabel.\enskip}#1\end{mdframed}}
\newcommand{\defn}[1]{\begin{mdframed}[style=theodefault]
    {\lato\bfseries Definition.\enskip}#1\end{mdframed}}
\newcommand{\remark}[1]{\begin{mdframed}[style=remarkdefault]
    {\lato\itshape Remark.\enskip}#1
    \end{mdframed}}
\newcommand{\note}[1]{\begin{mdframed}[style=remarkdefault]
    {\lato\itshape Note.\enskip}#1
    \end{mdframed}}
\newcommand{\pro}[1]{\begin{proof}#1\end{proof}}
%---------------------------------------------
% toc
\setcounter{tocdepth}{3}
\newcommand{\toc}{
{\hypersetup{
	citecolor=black,
	filecolor=nyandarkgrn,
	linkcolor=black,
	urlcolor=black}
\emph{\tableofcontents}\newpage
}}
%---------------------------------------------
% title customization
\RequirePackage{titling,titlesec,setspace}
\apptocmd{\maketitle}{\begin{center}
    {\color{nyandarkgrn}\Alegreya\itshape Produced using seto.sty}
    \end{center}}{}{} 
\patchcmd{\@maketitle}{\@title}{{\AlegreyaMedium\color{nyandarkgrn}\@title}}{}{}
\patchcmd{\@maketitle}{\@author}{{\Alegreya\color{nyandarkgrn}\@author}}{}{}
\patchcmd{\@maketitle}{\@date}{{\Alegreya\@date}}{}{}
%---------------------------------------------
% regular (sub)(sub)sections
\titleformat{\section}{\AlegreyaMedium\Large\color{nyandarkgrn}}{
    {\S\thesection}}
    {1em}{}
\apptocmd{\@section}{\ifthenelse{\boolean{sectnumbering}}{
        \setcounter{probnum}{0}\setcounter{exmpnum}{0}
        \setcounter{theonum}{0}\setcounter{defnum}{0}
        \setcounter{equation}{0}}{}}{}{}
\titleformat{\subsection}{\lato\bfseries\large\color{nyandarkgrn}}{
    {\thesubsection}}{1em}{}
\titleformat{\subsubsection}{\lato\bfseries\color{nyandarkgrn}}{
    {\thesubsubsection}}{1em}{}
%---------------------------------------------
% misc
%-----------
% exercises
\newcounter{exenum}
\newcommand{\exelabel}{\ifthenelse{\boolean{sectnumbering}}{\thesection.\theexenum}{\theexenum}}
\newcommand{\exercise}[1][]{\stepcounter{exenum}
	\par\noindent{\lato\bfseries Problem \exelabel}{\lato\optlabel{#1}}{\lato\bfseries.}\enskip}
%---------------------------------------------
%quotes
\global\mdfdefinestyle{quotedefault}{%
	innerleftmargin=0.5cm,innertopmargin=0.25cm,innerbottommargin=0.25cm,innerrightmargin=0.4cm,
	leftmargin=3.25in, skipabove=0cm,skipbelow=0cm,
    linewidth=2.5pt,linecolor=quotecolor,backgroundcolor=quotecolor!25!white,
    topline=false,bottomline=false,rightline=false,leftline=true}
\global\mdfdefinestyle{inlinequotedefault}{%
	innerleftmargin=0.5cm,innertopmargin=0.25cm,innerbottommargin=0.25cm,innerrightmargin=0.4cm,
	leftmargin=1cm,rightmargin=1cm,backgroundcolor=quotecolor!25!white,
    topline=false,bottomline=false,rightline=false,leftline=false}
\renewcommand{\quote}[2]{\begin{mdframed}[style=quotedefault]
    {\Alegreya\itshape ``#1''}
    {\begin{flushright}{\color{nyandarkgrn}\Alegreya #2}\end{flushright}}
    \end{mdframed}}
\newcommand{\inlinequote}[2]{\begin{mdframed}[style=inlinequotedefault]
    {\Alegreya\itshape ``#1''}{\Alegreya\color{nyandarkgrn}-- #2}
    \end{mdframed}}
%---------------------------------------------
